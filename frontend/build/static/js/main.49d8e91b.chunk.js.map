{"version":3,"sources":["utils/api.js","utils/auth.js","components/Register.js","components/Login.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","images/success.svg","components/SuccessPopup.js","images/error.svg","components/ErrorPopup.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","address","token","groupId","this","_address","_token","_groupId","res","ok","json","Promise","reject","Error","status","fetch","headers","then","_getResponseData","name","link","method","body","JSON","stringify","cardId","about","avatar","isLiked","auth","password","email","Register","props","React","useState","setEmail","setPassword","className","onSubmit","onRegister","id","type","placeholder","minLength","maxLength","value","onChange","e","target","required","onClick","preventDefault","catch","err","console","log","to","Login","history","useHistory","onLogin","push","Header","href","src","logo","alt","exact","path","userEmail","onSignOut","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","deleteButton","selectImage","likeButton","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","item","onCardClick","onCardLike","onCardDelete","reverse","Footer","loggedIn","PopupWithForm","isOpen","title","onClose","children","ImagePopup","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","InfoTooltip","SuccessPopup","success","ErrorPopup","error","ProtectedRoute","Component","component","App","setLoggedIn","setUserEmail","successMessage","setSuccessMessage","errorMessage","setErrorMessage","tokenCheck","useCallback","jwt","localStorage","getItem","getUserInfo","user","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setCards","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","getUserInformation","getInitialCards","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","register","authorize","setItem","changeUserInformation","addNewCard","changeUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49d8e91b.chunk.js","sourcesContent":["class Api {\r\n  constructor ({address, token, groupId}) {\r\n    this._address = address;\r\n    this._token = token;\r\n    this._groupId = groupId;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n  }\r\n\r\n  getInitialCards(token) {\r\n    return fetch(`${this._address}/cards`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  addNewCard({name, link}, token) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n\r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  deleteCard(cardId, token) {\r\n    return fetch (`${this._address}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  getUserInformation(token) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => {\r\n        return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  changeUserInformation(name, about, token) {\r\n    return fetch (`${this._address}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json', \r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about, \r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  changeUserAvatar(avatar, token) {\r\n    return fetch (`${this._address}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar \r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  // putLike(cardId, token) {\r\n  //   return fetch (`${this._address}/cards/${cardId}/likes`, {\r\n  //     method: 'PUT',\r\n  //     headers: {\r\n  //       'Content-Type': 'application/json',\r\n  //       'Authorization': `Bearer ${token}`,\r\n  //     }\r\n  //   })\r\n  //   .then(res => {\r\n  //     return this._getResponseData(res);\r\n  //   })\r\n  // }\r\n\r\n  // removeLike(cardId, token) {\r\n  //   return fetch (`${this._address}/cards/${cardId}/likes`, {\r\n  //     method: 'DELETE',\r\n  //     headers: {\r\n  //       'Content-Type': 'application/json',\r\n  //       'Authorization': `Bearer ${token}`,\r\n  //     }\r\n  //   })\r\n  //   .then(res => {\r\n  //     return this._getResponseData(res);\r\n  //   })\r\n  // }\r\n\r\n  changeLikeCardStatus(cardId, isLiked, token) {\r\n    if (isLiked) {\r\n      return fetch (`${this._address}/cards/${cardId}/likes`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        }\r\n      })\r\n      .then(res => {\r\n        return this._getResponseData(res);\r\n      })\r\n    } else {\r\n      return fetch (`${this._address}/cards/${cardId}/likes`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        }\r\n      })\r\n      .then(res => {\r\n        return this._getResponseData(res);\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  address: 'http://api.mesto.cards.nomoredomains.club',\r\n}); \r\n\r\n// const api = new Api ({\r\n//   address: 'http://localhost:3000',\r\n// }); \r\n\r\nexport default api;","class Auth {\r\n  constructor({address}) {\r\n    this._address = address;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n  }\r\n\r\n  register(password, email) {\r\n    return fetch(`${this._address}/sign-up`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({password, email})\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  authorize(password, email) {\r\n    return fetch(`${this._address}/sign-in`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({password, email})\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  getUserInfo(token) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n}\r\n\r\nconst auth = new Auth ({\r\n  address: 'http://api.mesto.cards.nomoredomains.club',\r\n}); \r\n\r\n// const auth = new Auth ({\r\n//   address: 'http://localhost:3000',\r\n// }); \r\n\r\nexport default auth;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './../index.css';\r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function setUserEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function setUserPassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n\r\n    props.onRegister(password, email)\r\n    .then(() => {\r\n      setEmail('');\r\n      setPassword('');\r\n    })\r\n     .catch(err => console.log('Ошибка при регистрации'));\r\n  }\r\n\r\n\r\n  return(\r\n    <section className=\"getIn\">\r\n    \r\n      <form className=\"getIn__form\" onSubmit={props.onRegister}>\r\n\r\n        <h2 className=\"getIn__title\">Регистрация</h2>\r\n        <div className=\"getIn__inputs\">\r\n\r\n          <input \r\n          id=\"email-input\" \r\n          type=\"email\" \r\n          className=\"getIn__input\" \r\n          name=\"email\" \r\n          placeholder=\"Email\" \r\n          minLength=\"2\" \r\n          maxLength=\"30\" \r\n          value={email}\r\n          onChange={setUserEmail} \r\n          required />\r\n          <span id=\"email-input-error\" className=\"email__error\"></span>\r\n\r\n          <input \r\n          id=\"password-input\" \r\n          type=\"password\" \r\n          className=\"getIn__input\" \r\n          name=\"password\" \r\n          placeholder=\"Пароль\" \r\n          minLength=\"2\" \r\n          maxLength=\"30\" \r\n          value={password}\r\n          onChange={setUserPassword} \r\n          required />\r\n          <span id=\"password-input-error\" className=\"password__error\"></span>\r\n\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"getIn__submit-button\" onClick={handleSubmit}>Зарегистрироваться</button>\r\n\r\n        <p className=\"getIn__subtitle\">Уже зарегистрированы? <Link to=\"sign-in\" className=\"getIn__enter-button\">Войти</Link></p>\r\n\r\n      </form>\r\n\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './../index.css';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  \r\n  const history = useHistory();\r\n\r\n  function setUserEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function setUserPassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n\r\n    props.onLogin(password, email)\r\n    .then(() => {\r\n      setEmail('');\r\n      setPassword('');\r\n    })\r\n    .then(() => {\r\n      history.push('/main');\r\n     })\r\n     .catch(err => console.log('Ошибка при входе'));\r\n\r\n  }\r\n\r\n  return(\r\n    <section className=\"getIn\">\r\n    \r\n      <form className=\"getIn__form\" onSubmit={props.onSubmit}>\r\n\r\n        <h2 className=\"getIn__title\">Вход</h2>\r\n        <div className=\"getIn__inputs\">\r\n\r\n          <input \r\n          id=\"email-input\" \r\n          type=\"email\" \r\n          className=\"getIn__input\" \r\n          name=\"email\" \r\n          placeholder=\"Email\" \r\n          minLength=\"2\" \r\n          maxLength=\"30\" \r\n          value={email}\r\n          onChange={setUserEmail} \r\n          required />\r\n          <span id=\"email-input-error\" className=\"email__error\"></span>\r\n\r\n          <input \r\n          id=\"password-input\" \r\n          type=\"password\" \r\n          className=\"getIn__input\" \r\n          name=\"password\" \r\n          placeholder=\"Пароль\" \r\n          minLength=\"2\" \r\n          maxLength=\"30\" \r\n          value={password}\r\n          onChange={setUserPassword} \r\n          required />\r\n          <span id=\"password-input-error\" className=\"password__error\"></span>\r\n\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"getIn__submit-button\" onClick={handleSubmit}>Войти</button>\r\n\r\n      </form>\r\n\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Login;","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from './../images/logo.svg';\r\nimport './../index.css';\r\nimport { Route, Link} from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nfunction Header(props) {\r\n\r\n\r\n  return(\r\n    <header className=\"header\">\r\n      <button \r\n      href=\"#\" \r\n      target=\"_blank\"\r\n      className=\"header__logo\">\r\n        <img   \r\n        src={logo}\r\n        alt=\"Лого: Mesto\" />\r\n      </button>\r\n\r\n      <Route exact path=\"/main\">\r\n        <div className=\"header__side-wrap\">\r\n          <p className=\"header__email\">{props.userEmail}</p>\r\n          <button className=\"header__button\" onClick={props.onSignOut}>Выйти</button>\r\n        </div>\r\n      </Route>\r\n\r\n\r\n      <Route path=\"/sign-up\">\r\n        <div className=\"header__side-wrap\">\r\n          <Link to=\"sign-in\" className=\"header__button\">Войти</Link>\r\n        </div>\r\n      </Route>\r\n\r\n\r\n\r\n      <Route path=\"/sign-in\">\r\n        <div className=\"header__side-wrap\">\r\n          <Link to=\"sign-up\" className=\"header__button\">Зарегистрироваться</Link>\r\n        </div>\r\n      </Route>\r\n      \r\n   </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import './../index.css';\r\nimport React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner === currentUser._id;\r\n\r\n  const isLiked = props.card.likes.some(i => i === currentUser._id);\r\n\r\n  function handleClick() {\r\n    props.selectImage(props.card);\r\n  }  \r\n\r\n  function handleLikeClick() {\r\n    props.likeButton(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.deleteButton(props.card);\r\n  }\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `${isOwn ? 'card__bin-button' : 'card__bin-button_hidden'}`\r\n  )\r\n\r\n  const cardLikeButtonClassName = (\r\n    `card__like-button ${isLiked && 'card__like-button_active'}`\r\n  )\r\n\r\n  return(\r\n  <li className=\"card\"> \r\n    <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n    <img className=\"card__img\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n    <div className=\"card__footer\">\r\n      <h2 className=\"card__title\">{props.card.name}</h2>\r\n      <div className=\"card__wrap-like\">\r\n        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n        <div className=\"card__like-count\">{props.card.likes.length}</div>\r\n      </div>\r\n    </div>\r\n  </li> \r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport './../index.css';\r\n\r\nimport Card from './Card';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return(\r\n    <main className=\"content\">\r\n\r\n      <section className=\"profile\">\r\n        <button onClick={props.onEditAvatar} type=\"button\" className=\"profile__change-avatar-button\">\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар профиля\" />\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__wrap\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit-button\"></button>\r\n          </div>\r\n          <p className=\"profile__profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button onClick={props.onAddPlace} type=\"button\" className=\"profile__add-button\"></button>\r\n      </section>\r\n\r\n      <section>\r\n        <ul className=\"gallery-grid\">\r\n          {props.cards.map((item) => (\r\n            <Card\r\n              key={item._id}\r\n              id={item._id}\r\n              card={item}\r\n              selectImage={props.onCardClick}\r\n              likeButton={props.onCardLike}\r\n              deleteButton={props.onCardDelete}\r\n            />\r\n           )\r\n          ).reverse()}\r\n        </ul>\r\n      </section>\r\n\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import './../index.css';\r\n\r\nfunction Footer(props) {\r\n  if (props.loggedIn) {\r\n   return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n      </footer>\r\n    )\r\n  } else {\r\n    return (\r\n      <></>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;","import './../index.css';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  return(\r\n\r\n  <section className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n    \r\n    <form className={`popup__container popup__container_type_${props.name}`}  name={`${props.name}-form`} onSubmit={props.onSubmit}>\r\n\r\n      <h2 className={`popup__title popup__title_type_${props.name}`}>{`${props.title}`}</h2>\r\n      <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\r\n      {props.children}\r\n      <button type=\"submit\" className=\"popup__save-button\">Сохранить</button>\r\n\r\n    </form>\r\n\r\n  </section>\r\n\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import './../index.css';\r\n\r\nfunction ImagePopup(props) {\r\n  return(\r\n   <section className={`popup ${props.isOpen && 'popup_opened'}`} id=\"bigger-img\" >\r\n\r\n    <div className=\"popup__bigger-img\">\r\n      <button type=\"button\" className=\"popup__close-button popup__close-button_small\" id=\"imgCloseButton\" onClick={props.onClose}></button>\r\n      <img className=\"popup__img\" src={props.card && props.card.link}  alt={props.card && props.card.name}  />\r\n      <p className=\"popup__img-title\">{props.card && props.card.name}</p>\r\n    </div>\r\n\r\n   </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from './../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || '');\r\n    setDescription(currentUser.about || '');\r\n  }, [currentUser]); \r\n\r\n  function nameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function descriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n    \r\n  return(\r\n    <PopupWithForm \r\n      name=\"profile\" \r\n      title=\"Редактировать профиль\" \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      >\r\n      <div className=\"popup__inputs\">\r\n\r\n        <input \r\n        id=\"name-input\" \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_type_name\" \r\n        name=\"name\" \r\n        placeholder=\"Введите имя\" \r\n        minLength=\"2\" maxLength=\"40\" \r\n        value={name} \r\n        onChange={nameChange} \r\n        required />\r\n        <span id=\"name-input-error\" className=\"popup__error\"></span>\r\n\r\n        <input \r\n        id=\"profession-input\" \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_type_profession\" \r\n        name=\"profession\" \r\n        placeholder=\"Введите профессию\" \r\n        minLength=\"2\" \r\n        maxLength=\"200\" \r\n        value={description} \r\n        onChange={descriptionChange} \r\n        required />\r\n        <span id=\"profession-input-error\" className=\"popup__error\"></span>\r\n\r\n      </div>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n\r\n    avatarRef.current.value = '';\r\n  } \r\n\r\n\r\n  return(\r\n    <PopupWithForm \r\n    name=\"avatar\" \r\n    title=\"Обновить аватар\" \r\n    isOpen={props.isOpen} \r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs popup__inputs_tiny\">\r\n  \r\n        <input \r\n        id=\"avatar-link-input\" \r\n        type=\"url\" \r\n        className=\"popup__input popup__input_type_avatar\" \r\n        name=\"link\" \r\n        placeholder=\"Ссылка на картинку\" \r\n        ref={avatarRef}\r\n        required />\r\n        <span id=\"avatar-link-input-error\" className=\"popup__error\"></span>\r\n  \r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function setPhotoName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function setPhotoLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n\r\n    setName('');\r\n    setLink('');\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm \r\n    name=\"place\" \r\n    title=\"Новое место\" \r\n    isOpen={props.isOpen} \r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs popup__inputs_small\">\r\n\r\n        <input \r\n        id=\"place-input\" \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_type_place\" \r\n        name=\"place\" \r\n        placeholder=\"Название\" \r\n        minLength=\"2\" \r\n        maxLength=\"30\" \r\n        value={name}\r\n        onChange={setPhotoName} \r\n        required />\r\n        <span id=\"place-input-error\" className=\"popup__error\"></span>\r\n\r\n        <input \r\n        id=\"link-input\" \r\n        type=\"url\" \r\n        className=\"popup__input popup__input_type_link\" \r\n        name=\"link\" \r\n        placeholder=\"Ссылка на картинку\" \r\n        value={link}\r\n        onChange={setPhotoLink} \r\n        required />\r\n        <span id=\"link-input-error\" className=\"popup__error\"></span>\r\n\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport './../index.css';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  return(\r\n   <section className={`popup ${props.isOpen && 'popup_opened'}`}>\r\n    \r\n      <div className=\"popup__container\">\r\n    \r\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\r\n        {props.children}\r\n    \r\n      </div>\r\n  \r\n    </section>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/success.a9eb6caf.svg\";","import React from 'react';\r\nimport './../index.css';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport success from './../images/success.svg';\r\n\r\nfunction SuccessPopup(props) {\r\n\r\n\r\n  return(\r\n    <InfoTooltip \r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    >\r\n      <div className=\"popup__info-wrap\">\r\n        <img src={success} alt=\"Успешная регистрация\" />\r\n        <h2 className=\"popup__title popup__title_info\">Вы успешно зарегистрировались!</h2>\r\n      </div>\r\n\r\n    </InfoTooltip >\r\n  )\r\n}\r\n\r\nexport default SuccessPopup;","export default __webpack_public_path__ + \"static/media/error.d4ce2a26.svg\";","import React from 'react';\r\nimport './../index.css';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport error from './../images/error.svg';\r\n\r\nfunction ErrorPopup(props) {\r\n\r\n\r\n  return(\r\n    <InfoTooltip \r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    >\r\n      <div className=\"popup__info-wrap\">\r\n        <img src={error} alt=\"Ошибка\" />\r\n        <h2 className=\"popup__title popup__title_info\">Что-то пошло не так! Попробуйте ещё раз.</h2>\r\n      </div>\r\n\r\n    </InfoTooltip >\r\n  )\r\n}\r\n\r\nexport default ErrorPopup;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\r\n\r\nimport api from '../utils/api';\r\nimport auth from '../utils/auth'\r\nimport './../index.css';\r\n\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\n\r\nimport SuccessPopup from './SuccessPopup';\r\nimport ErrorPopup from './ErrorPopup';\r\n\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n\r\n  const [successMessage, setSuccessMessage] = React.useState(false);\r\n  const [errorMessage, setErrorMessage] = React.useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  const tokenCheck = React.useCallback(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n\r\n    if (jwt) {\r\n      auth.getUserInfo(jwt)\r\n      .then((res) => {\r\n        setUserEmail(res.user.email);\r\n        setLoggedIn(true);\r\n        history.push('/main');\r\n      })\r\n      .catch(() => {\r\n        history.push('/sign-in')})\r\n    }\r\n  }, [history]) \r\n\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, [tokenCheck])\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn) {\r\n      const jwt = localStorage.getItem('jwt');\r\n\r\n      if (jwt) {\r\n        auth.getUserInfo(jwt)\r\n        .then((res) => {\r\n          setUserEmail(res.user.email);\r\n        })\r\n        .catch(err => console.log('Ошибка при получении почты пользователя'));\r\n      }\r\n    }\r\n  }, [loggedIn])\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n  const [selectedCard, setSelectedCard] = React.useState();\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    api.getUserInformation(jwt)\r\n    .then((res) => {\r\n      const user = res.user;\r\n      setCurrentUser(user);\r\n    })\r\n    .catch(err => console.log('Ошибка загрузки данных пользователя'));\r\n  }, [loggedIn])\r\n\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    api.getInitialCards(jwt)\r\n    .then((res) => {\r\n      setCards(res);\r\n    })\r\n    .catch(err => console.log('Ошибка загрузки карточек'));\r\n  }, [loggedIn])\r\n\r\n  function handleCardLike(card) {\r\n    const jwt = localStorage.getItem('jwt');\r\n    const isLiked = card.likes.some(i => i === currentUser._id);\r\n    \r\n    api.changeLikeCardStatus(card._id, !isLiked, jwt)\r\n    .then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard.card : c);\r\n      setCards(newCards);\r\n    })\r\n    .catch(err => console.log('Ошибка лайка'));\r\n  } \r\n\r\n  function handleCardDelete(card) {\r\n    const jwt = localStorage.getItem('jwt');\r\n    api.deleteCard(card._id, jwt)\r\n    .then(() => {\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n      setCards(newCards);\r\n    })\r\n    .catch(err => console.log('Ошибка при удалении карточки'));\r\n  }\r\n\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n\r\n    setSelectedCard(null);\r\n    setSuccessMessage(null);\r\n    setErrorMessage(null);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser({name, about}) {\r\n    const jwt = localStorage.getItem('jwt');\r\n    api.changeUserInformation(name, about, jwt)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      setIsEditProfilePopupOpen(false);\r\n    })\r\n    .catch(err => console.log('Ошибка при изменении данных пользователя'));\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}) {\r\n    const jwt = localStorage.getItem('jwt');\r\n    api.changeUserAvatar(avatar, jwt)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      setIsEditAvatarPopupOpen(false);\r\n    })\r\n    .catch(err => console.log('Ошибка при изменении аватара пользователя'));\r\n  }\r\n\r\n  const handleAddPlaceSubmit = ({name, link}) => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    api.addNewCard({name, link}, jwt)\r\n    .then((newCard) => {\r\n      setCards([...cards, newCard.card]); \r\n      setIsAddPlacePopupOpen(false);\r\n    })\r\n    .catch(err => console.log('Ошибка при добавлении новой карточки'));\r\n  }\r\n\r\n  const handleRegister = (password, email) => {\r\n    return auth.register(password, email)\r\n    .then(res => {\r\n      setSuccessMessage(true);\r\n      history.push('/sign-in');\r\n      return res;\r\n    })\r\n    .catch(() => {\r\n      setErrorMessage(true);\r\n    })\r\n  }\r\n\r\n  const handleLogin = (password, email)  => {\r\n    return auth.authorize(password, email)    \r\n    .then(res => {\r\n      if (res) {\r\n        setLoggedIn(true);\r\n        localStorage.setItem('jwt', res.token);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      setErrorMessage(true);\r\n    })\r\n  }\r\n\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    setUserEmail(null);\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  \r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\"> \r\n\r\n        <div className=\"page__container\"> \r\n\r\n          <Header onSignOut={handleSignOut} userEmail={userEmail} />\r\n          \r\n          <Switch>\r\n            <ProtectedRoute \r\n              path=\"/main\" \r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n              cards={cards}\r\n            />\r\n            \r\n            {/* для регистрации пользователя */}\r\n            <Route path=\"/sign-up\">\r\n              <Register onRegister={handleRegister} />\r\n            </Route>\r\n            \r\n            {/* для авторизации пользователя */}\r\n            <Route path=\"/sign-in\">\r\n              <Login onLogin={handleLogin} />\r\n            </Route>\r\n\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/sign-up\" />}\r\n             </Route>\r\n            \r\n          </Switch>\r\n          \r\n          <Footer loggedIn={loggedIn} />\r\n\r\n          {/* попапы */}\r\n\r\n          <SuccessPopup\r\n          isOpen={successMessage}\r\n          onClose={closeAllPopups}\r\n          />\r\n\r\n          <ErrorPopup \r\n          isOpen={errorMessage}\r\n          onClose={closeAllPopups}\r\n          />\r\n\r\n          {/* «Редактировать профиль» */}\r\n          <EditProfilePopup \r\n          isOpen={isEditProfilePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onUpdateUser={handleUpdateUser}\r\n          /> \r\n\r\n          {/* «Новое место» */}\r\n          <AddPlacePopup \r\n          isOpen={isAddPlacePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onAddPlace={handleAddPlaceSubmit}\r\n          /> \r\n\r\n          {/* «Обновить аватар» */}\r\n          <EditAvatarPopup \r\n          isOpen={isEditAvatarPopupOpen} \r\n          onClose={closeAllPopups} \r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          /> \r\n\r\n          {/* «Вы уверены?» */}\r\n          <PopupWithForm \r\n          name=\"confirm\" \r\n          title=\"Вы уверены?\" \r\n          isOpen=\"\" \r\n          onClose={closeAllPopups}\r\n          />\r\n\r\n          {/* Открытие картинки */}\r\n          <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={selectedCard}\r\n          onClose={closeAllPopups}\r\n          />\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom'; \r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter> \r\n      <App />\r\n    </BrowserRouter> \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}