{"version":3,"sources":["utils/api.js","utils/auth.js","components/Register.js","components/Login.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","images/success.svg","components/SuccessPopup.js","images/error.svg","components/ErrorPopup.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","address","token","groupId","this","_address","_token","_groupId","res","ok","json","Promise","reject","Error","status","fetch","then","_getResponseData","name","link","method","headers","body","JSON","stringify","cardId","about","avatar","isLiked","auth","password","email","console","log","Register","props","React","useState","setEmail","setPassword","className","onSubmit","onRegister","id","type","placeholder","minLength","maxLength","value","onChange","e","target","required","onClick","preventDefault","catch","err","to","Login","history","useHistory","onLogin","push","Header","href","src","logo","alt","exact","path","userEmail","onSignOut","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","deleteButton","selectImage","likeButton","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","item","onCardClick","onCardLike","onCardDelete","Footer","loggedIn","PopupWithForm","isOpen","title","onClose","children","ImagePopup","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","InfoTooltip","SuccessPopup","success","ErrorPopup","error","ProtectedRoute","Component","component","App","setLoggedIn","setUserEmail","successMessage","setSuccessMessage","errorMessage","setErrorMessage","tokenCheck","useCallback","jwt","localStorage","getItem","getUserInfo","data","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setCards","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","getUserInformation","getInitialCards","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","register","authorize","setItem","changeUserInformation","addNewCard","changeUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8f4b3aab.chunk.js","sourcesContent":["class Api {\r\n  constructor ({address, token, groupId}) {\r\n    this._address = address;\r\n    this._token = token;\r\n    this._groupId = groupId;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/cards`)\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  addNewCard({name, link}) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n\r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch (`${this._address}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  getUserInformation() {\r\n    return fetch(`${this._address}/users/me`)\r\n    .then(res => {\r\n        return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  changeUserInformation(name, about) {\r\n    return fetch (`${this._address}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about, \r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  changeUserAvatar(avatar) {\r\n    return fetch (`${this._address}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar \r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  putLike(cardId) {\r\n    return fetch (`${this._address}/cards/${cardId}/likes`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch (`${this._address}/cards/${cardId}/likes`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return fetch (`${this._address}/cards/${cardId}/likes`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      .then(res => {\r\n        return this._getResponseData(res);\r\n      })\r\n    } else {\r\n      return fetch (`${this._address}/cards/${cardId}/likes`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      .then(res => {\r\n        return this._getResponseData(res);\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  address: 'http://api.mesto.cards.nomoredomains.club',\r\n}); \r\n\r\nexport default api;","class Auth {\r\n  constructor({address}) {\r\n    this._address = address;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n  }\r\n\r\n  register(password, email) {\r\n    return fetch(`${this._address}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({password, email})\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  authorize(password, email) {\r\n    return fetch(`${this._address}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({password, email})\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  getUserInfo(token) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(res => {\r\n      console.log(`токен в getUserInfo ${token}`);\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n}\r\n\r\nconst auth = new Auth ({\r\n  address: 'http://api.mesto.cards.nomoredomains.club',\r\n}); \r\n\r\nexport default auth;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './../index.css';\r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function setUserEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function setUserPassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n\r\n    props.onRegister(password, email)\r\n    .then(() => {\r\n      setEmail('');\r\n      setPassword('');\r\n    })\r\n     .catch(err => console.log('Ошибка при регистрации'));\r\n  }\r\n\r\n\r\n  return(\r\n    <section className=\"getIn\">\r\n    \r\n      <form className=\"getIn__form\" onSubmit={props.onRegister}>\r\n\r\n        <h2 className=\"getIn__title\">Регистрация</h2>\r\n        <div className=\"getIn__inputs\">\r\n\r\n          <input \r\n          id=\"email-input\" \r\n          type=\"email\" \r\n          className=\"getIn__input\" \r\n          name=\"email\" \r\n          placeholder=\"Email\" \r\n          minLength=\"2\" \r\n          maxLength=\"30\" \r\n          value={email}\r\n          onChange={setUserEmail} \r\n          required />\r\n          <span id=\"email-input-error\" className=\"email__error\"></span>\r\n\r\n          <input \r\n          id=\"password-input\" \r\n          type=\"password\" \r\n          className=\"getIn__input\" \r\n          name=\"password\" \r\n          placeholder=\"Пароль\" \r\n          minLength=\"2\" \r\n          maxLength=\"30\" \r\n          value={password}\r\n          onChange={setUserPassword} \r\n          required />\r\n          <span id=\"password-input-error\" className=\"password__error\"></span>\r\n\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"getIn__submit-button\" onClick={handleSubmit}>Зарегистрироваться</button>\r\n\r\n        <p className=\"getIn__subtitle\">Уже зарегистрированы? <Link to=\"sign-in\" className=\"getIn__enter-button\">Войти</Link></p>\r\n\r\n      </form>\r\n\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './../index.css';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  \r\n  const history = useHistory();\r\n\r\n  function setUserEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function setUserPassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n\r\n    props.onLogin(password, email)\r\n    .then(() => {\r\n      setEmail('');\r\n      setPassword('');\r\n    })\r\n    .then(() => {\r\n      history.push('/main');\r\n     })\r\n     .catch(err => console.log('Ошибка при входе'));\r\n\r\n  }\r\n\r\n  return(\r\n    <section className=\"getIn\">\r\n    \r\n      <form className=\"getIn__form\" onSubmit={props.onSubmit}>\r\n\r\n        <h2 className=\"getIn__title\">Вход</h2>\r\n        <div className=\"getIn__inputs\">\r\n\r\n          <input \r\n          id=\"email-input\" \r\n          type=\"email\" \r\n          className=\"getIn__input\" \r\n          name=\"email\" \r\n          placeholder=\"Email\" \r\n          minLength=\"2\" \r\n          maxLength=\"30\" \r\n          value={email}\r\n          onChange={setUserEmail} \r\n          required />\r\n          <span id=\"email-input-error\" className=\"email__error\"></span>\r\n\r\n          <input \r\n          id=\"password-input\" \r\n          type=\"password\" \r\n          className=\"getIn__input\" \r\n          name=\"password\" \r\n          placeholder=\"Пароль\" \r\n          minLength=\"2\" \r\n          maxLength=\"30\" \r\n          value={password}\r\n          onChange={setUserPassword} \r\n          required />\r\n          <span id=\"password-input-error\" className=\"password__error\"></span>\r\n\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"getIn__submit-button\" onClick={handleSubmit}>Войти</button>\r\n\r\n      </form>\r\n\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Login;","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from './../images/logo.svg';\r\nimport './../index.css';\r\nimport { Route, Link} from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nfunction Header(props) {\r\n\r\n\r\n  return(\r\n    <header className=\"header\">\r\n      <button \r\n      href=\"#\" \r\n      target=\"_blank\"\r\n      className=\"header__logo\">\r\n        <img   \r\n        src={logo}\r\n        alt=\"Лого: Mesto\" />\r\n      </button>\r\n\r\n      <Route exact path=\"/main\">\r\n        <div className=\"header__side-wrap\">\r\n          <p className=\"header__email\">{props.userEmail}</p>\r\n          <button className=\"header__button\" onClick={props.onSignOut}>Выйти</button>\r\n        </div>\r\n      </Route>\r\n\r\n\r\n      <Route path=\"/sign-up\">\r\n        <div className=\"header__side-wrap\">\r\n          <Link to=\"sign-in\" className=\"header__button\">Войти</Link>\r\n        </div>\r\n      </Route>\r\n\r\n\r\n\r\n      <Route path=\"/sign-in\">\r\n        <div className=\"header__side-wrap\">\r\n          <Link to=\"sign-up\" className=\"header__button\">Зарегистрироваться</Link>\r\n        </div>\r\n      </Route>\r\n      \r\n   </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import './../index.css';\r\nimport React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n\r\n  function handleClick() {\r\n    props.selectImage(props.card);\r\n  }  \r\n\r\n  function handleLikeClick() {\r\n    props.likeButton(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.deleteButton(props.card);\r\n  }\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `${isOwn ? 'card__bin-button' : 'card__bin-button_hidden'}`\r\n  )\r\n\r\n  const cardLikeButtonClassName = (\r\n    `card__like-button ${isLiked && 'card__like-button_active'}`\r\n  )\r\n\r\n  return(\r\n  <li className=\"card\"> \r\n    <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n    <img className=\"card__img\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n    <div className=\"card__footer\">\r\n      <h2 className=\"card__title\">{props.card.name}</h2>\r\n      <div className=\"card__wrap-like\">\r\n        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n        <div className=\"card__like-count\">{props.card.likes.length}</div>\r\n      </div>\r\n    </div>\r\n  </li> \r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport './../index.css';\r\n\r\nimport Card from './Card';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return(\r\n    <main className=\"content\">\r\n\r\n      <section className=\"profile\">\r\n        <button onClick={props.onEditAvatar} type=\"button\" className=\"profile__change-avatar-button\">\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар профиля\" />\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__wrap\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit-button\"></button>\r\n          </div>\r\n          <p className=\"profile__profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button onClick={props.onAddPlace} type=\"button\" className=\"profile__add-button\"></button>\r\n      </section>\r\n\r\n      <section>\r\n        <ul className=\"gallery-grid\">\r\n          {props.cards.map((item) => (\r\n            <Card\r\n              key={item._id}\r\n              id={item._id}\r\n              card={item}\r\n              selectImage={props.onCardClick}\r\n              likeButton={props.onCardLike}\r\n              deleteButton={props.onCardDelete}\r\n            />\r\n           )\r\n          )}\r\n        </ul>\r\n      </section>\r\n\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","import './../index.css';\r\n\r\nfunction Footer(props) {\r\n  if (props.loggedIn) {\r\n   return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n      </footer>\r\n    )\r\n  } else {\r\n    return (\r\n      <></>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;","import './../index.css';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  return(\r\n\r\n  <section className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n    \r\n    <form className={`popup__container popup__container_type_${props.name}`}  name={`${props.name}-form`} onSubmit={props.onSubmit}>\r\n\r\n      <h2 className={`popup__title popup__title_type_${props.name}`}>{`${props.title}`}</h2>\r\n      <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\r\n      {props.children}\r\n      <button type=\"submit\" className=\"popup__save-button\">Сохранить</button>\r\n\r\n    </form>\r\n\r\n  </section>\r\n\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import './../index.css';\r\n\r\nfunction ImagePopup(props) {\r\n  return(\r\n   <section className={`popup ${props.isOpen && 'popup_opened'}`} id=\"bigger-img\" >\r\n\r\n    <div className=\"popup__bigger-img\">\r\n      <button type=\"button\" className=\"popup__close-button popup__close-button_small\" id=\"imgCloseButton\" onClick={props.onClose}></button>\r\n      <img className=\"popup__img\" src={props.card && props.card.link}  alt={props.card && props.card.name}  />\r\n      <p className=\"popup__img-title\">{props.card && props.card.name}</p>\r\n    </div>\r\n\r\n   </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from './../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || '');\r\n    setDescription(currentUser.about || '');\r\n  }, [currentUser]); \r\n\r\n  function nameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function descriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n    \r\n  return(\r\n    <PopupWithForm \r\n      name=\"profile\" \r\n      title=\"Редактировать профиль\" \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      >\r\n      <div className=\"popup__inputs\">\r\n\r\n        <input \r\n        id=\"name-input\" \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_type_name\" \r\n        name=\"name\" \r\n        placeholder=\"Введите имя\" \r\n        minLength=\"2\" maxLength=\"40\" \r\n        value={name} \r\n        onChange={nameChange} \r\n        required />\r\n        <span id=\"name-input-error\" className=\"popup__error\"></span>\r\n\r\n        <input \r\n        id=\"profession-input\" \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_type_profession\" \r\n        name=\"profession\" \r\n        placeholder=\"Введите профессию\" \r\n        minLength=\"2\" \r\n        maxLength=\"200\" \r\n        value={description} \r\n        onChange={descriptionChange} \r\n        required />\r\n        <span id=\"profession-input-error\" className=\"popup__error\"></span>\r\n\r\n      </div>\r\n    </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n\r\n    avatarRef.current.value = '';\r\n  } \r\n\r\n\r\n  return(\r\n    <PopupWithForm \r\n    name=\"avatar\" \r\n    title=\"Обновить аватар\" \r\n    isOpen={props.isOpen} \r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs popup__inputs_tiny\">\r\n  \r\n        <input \r\n        id=\"avatar-link-input\" \r\n        type=\"url\" \r\n        className=\"popup__input popup__input_type_avatar\" \r\n        name=\"link\" \r\n        placeholder=\"Ссылка на картинку\" \r\n        ref={avatarRef}\r\n        required />\r\n        <span id=\"avatar-link-input-error\" className=\"popup__error\"></span>\r\n  \r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function setPhotoName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function setPhotoLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n\r\n    setName('');\r\n    setLink('');\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm \r\n    name=\"place\" \r\n    title=\"Новое место\" \r\n    isOpen={props.isOpen} \r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__inputs popup__inputs_small\">\r\n\r\n        <input \r\n        id=\"place-input\" \r\n        type=\"text\" \r\n        className=\"popup__input popup__input_type_place\" \r\n        name=\"place\" \r\n        placeholder=\"Название\" \r\n        minLength=\"2\" \r\n        maxLength=\"30\" \r\n        value={name}\r\n        onChange={setPhotoName} \r\n        required />\r\n        <span id=\"place-input-error\" className=\"popup__error\"></span>\r\n\r\n        <input \r\n        id=\"link-input\" \r\n        type=\"url\" \r\n        className=\"popup__input popup__input_type_link\" \r\n        name=\"link\" \r\n        placeholder=\"Ссылка на картинку\" \r\n        value={link}\r\n        onChange={setPhotoLink} \r\n        required />\r\n        <span id=\"link-input-error\" className=\"popup__error\"></span>\r\n\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport './../index.css';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  return(\r\n   <section className={`popup ${props.isOpen && 'popup_opened'}`}>\r\n    \r\n      <div className=\"popup__container\">\r\n    \r\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\r\n        {props.children}\r\n    \r\n      </div>\r\n  \r\n    </section>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/success.a9eb6caf.svg\";","import React from 'react';\r\nimport './../index.css';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport success from './../images/success.svg';\r\n\r\nfunction SuccessPopup(props) {\r\n\r\n\r\n  return(\r\n    <InfoTooltip \r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    >\r\n      <div className=\"popup__info-wrap\">\r\n        <img src={success} alt=\"Успешная регистрация\" />\r\n        <h2 className=\"popup__title popup__title_info\">Вы успешно зарегистрировались!</h2>\r\n      </div>\r\n\r\n    </InfoTooltip >\r\n  )\r\n}\r\n\r\nexport default SuccessPopup;","export default __webpack_public_path__ + \"static/media/error.d4ce2a26.svg\";","import React from 'react';\r\nimport './../index.css';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport error from './../images/error.svg';\r\n\r\nfunction ErrorPopup(props) {\r\n\r\n\r\n  return(\r\n    <InfoTooltip \r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    >\r\n      <div className=\"popup__info-wrap\">\r\n        <img src={error} alt=\"Ошибка\" />\r\n        <h2 className=\"popup__title popup__title_info\">Что-то пошло не так! Попробуйте ещё раз.</h2>\r\n      </div>\r\n\r\n    </InfoTooltip >\r\n  )\r\n}\r\n\r\nexport default ErrorPopup;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\r\n\r\nimport api from '../utils/api';\r\nimport auth from '../utils/auth'\r\nimport './../index.css';\r\n\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\n\r\nimport SuccessPopup from './SuccessPopup';\r\nimport ErrorPopup from './ErrorPopup';\r\n\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n\r\n  const [successMessage, setSuccessMessage] = React.useState(false);\r\n  const [errorMessage, setErrorMessage] = React.useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  const tokenCheck = React.useCallback(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n\r\n    console.log(`tokenCheck ${jwt}`);\r\n\r\n    if (jwt) {\r\n      auth.getUserInfo(jwt)\r\n      .then((res) => {\r\n        setUserEmail(res.data.email);\r\n        setLoggedIn(true);\r\n        history.push('/main');\r\n      })\r\n      .catch(() => {\r\n        history.push('/sign-in')})\r\n    }\r\n  }, [history]) \r\n\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, [tokenCheck])\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn) {\r\n      const jwt = localStorage.getItem('jwt');\r\n      console.log(`if loggedIn ${jwt}`);\r\n\r\n      if (jwt) {\r\n        auth.getUserInfo(jwt)\r\n        .then((res) => {\r\n          setUserEmail(res.data.email);\r\n        })\r\n        .catch(err => console.log('Ошибка при получении почты пользователя'));\r\n      }\r\n    }\r\n  }, [loggedIn])\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n  const [selectedCard, setSelectedCard] = React.useState();\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInformation()\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n    })\r\n    .catch(err => console.log('Ошибка загрузки данных пользователя'));\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n    .then((res) => {\r\n      setCards(res);\r\n    })\r\n    .catch(err => console.log('Ошибка загрузки карточек'));\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    \r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n    .then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      setCards(newCards);\r\n    })\r\n    .catch(err => console.log('Ошибка лайка'));\r\n  } \r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n    .then(() => {\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n      setCards(newCards);\r\n    })\r\n    .catch(err => console.log('Ошибка при удалении карточки'));\r\n  }\r\n\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n\r\n    setSelectedCard(null);\r\n    setSuccessMessage(null);\r\n    setErrorMessage(null);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser({name, about}) {\r\n    api.changeUserInformation(name, about)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      setIsEditProfilePopupOpen(false);\r\n    })\r\n    .catch(err => console.log('Ошибка при изменении данных пользователя'));\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}) {\r\n    api.changeUserAvatar(avatar)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n      setIsEditAvatarPopupOpen(false);\r\n    })\r\n    .catch(err => console.log('Ошибка при изменении аватара пользователя'));\r\n  }\r\n\r\n  const handleAddPlaceSubmit = ({name, link}) => {\r\n    api.addNewCard({name, link})\r\n    .then((newCard) => {\r\n      setCards([newCard, ...cards]); \r\n      setIsAddPlacePopupOpen(false);\r\n    })\r\n    .catch(err => console.log('Ошибка при добавлении новой карточки'));\r\n  }\r\n\r\n  const handleRegister = (password, email) => {\r\n    return auth.register(password, email)\r\n    .then(res => {\r\n      setSuccessMessage(true);\r\n      history.push('/sign-in');\r\n      return res;\r\n    })\r\n    .catch(() => {\r\n      setErrorMessage(true);\r\n    })\r\n  }\r\n\r\n  const handleLogin = (password, email)  => {\r\n    return auth.authorize(password, email)    \r\n    .then(res => {\r\n      if (res) {\r\n        setLoggedIn(true);\r\n        localStorage.setItem('jwt', res.token);\r\n\r\n        console.log(`что положили в локал после авторизации ${localStorage}`);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      setErrorMessage(true);\r\n    })\r\n  }\r\n\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    setUserEmail(null);\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  \r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\"> \r\n\r\n        <div className=\"page__container\"> \r\n\r\n          <Header onSignOut={handleSignOut} userEmail={userEmail} />\r\n          \r\n          <Switch>\r\n            <ProtectedRoute \r\n              path=\"/main\" \r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n              cards={cards}\r\n            />\r\n            \r\n            {/* для регистрации пользователя */}\r\n            <Route path=\"/sign-up\">\r\n              <Register onRegister={handleRegister} />\r\n            </Route>\r\n            \r\n            {/* для авторизации пользователя */}\r\n            <Route path=\"/sign-in\">\r\n              <Login onLogin={handleLogin} />\r\n            </Route>\r\n\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/sign-up\" />}\r\n             </Route>\r\n            \r\n          </Switch>\r\n          \r\n          <Footer loggedIn={loggedIn} />\r\n\r\n          {/* попапы */}\r\n\r\n          <SuccessPopup\r\n          isOpen={successMessage}\r\n          onClose={closeAllPopups}\r\n          />\r\n\r\n          <ErrorPopup \r\n          isOpen={errorMessage}\r\n          onClose={closeAllPopups}\r\n          />\r\n\r\n          {/* «Редактировать профиль» */}\r\n          <EditProfilePopup \r\n          isOpen={isEditProfilePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onUpdateUser={handleUpdateUser}\r\n          /> \r\n\r\n          {/* «Новое место» */}\r\n          <AddPlacePopup \r\n          isOpen={isAddPlacePopupOpen} \r\n          onClose={closeAllPopups} \r\n          onAddPlace={handleAddPlaceSubmit}\r\n          /> \r\n\r\n          {/* «Обновить аватар» */}\r\n          <EditAvatarPopup \r\n          isOpen={isEditAvatarPopupOpen} \r\n          onClose={closeAllPopups} \r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          /> \r\n\r\n          {/* «Вы уверены?» */}\r\n          <PopupWithForm \r\n          name=\"confirm\" \r\n          title=\"Вы уверены?\" \r\n          isOpen=\"\" \r\n          onClose={closeAllPopups}\r\n          />\r\n\r\n          {/* Открытие картинки */}\r\n          <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={selectedCard}\r\n          onClose={closeAllPopups}\r\n          />\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom'; \r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter> \r\n      <App />\r\n    </BrowserRouter> \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}